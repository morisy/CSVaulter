
<title>Muck.Rocks</title>
    
<link rel="stylesheet" href="variables.css">
<link rel="stylesheet" href="normalize.css">
<link rel="stylesheet" href="elements.css">
<link rel="stylesheet" href="components.css">
<link rel="stylesheet" href="utilities.css">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta property="og:site_name" content="Muck.Rocks">

<meta property="og:title" content="You have the right to... variable-title">
<meta property="og:description" content="variable-description">

  <meta property="og:image" content="variable-image">

<meta name="twitter:card" content="summary_large_image">
<meta property="og:url" content="https://www.muck.rocks/request/1">

</head>


<header>
<a href="/web/20201024091058/https://www.muck.rocks/" class="logo">Muck.Rocks</a>
<a class="button" href="/web/20201024091058/https://www.muck.rocks/">See another FOIA request!</a>
</header>

<main>


  <section class="intro">
    <p class="title">You have the right to</p>
    <h1>variable-title</h1>
  </section>

  
  
  <section class="external-links">
    <p class="title"><abbr title="Freedom of Information Act">FOIA</abbr>-powered news</p>
    <figure>
      
        <img src="variable-image" alt=""/>
      
      <figcaption>
        
        <a target="_blank" href="variable-article-1-url">variable-article-1-headline</a>
        
      </figcaption>
    </figure>

    

    
  </section>
  

  <section class="foia-description">
    <p>variable-foia-description</p>
    
    <details>
      <summary class="more">More info</summary>
      
        <p class="title">Tips for filing this request</p>
        <p>variable-foia-tips</p>
      
      
        <p class="title">Sample <abbr title="Freedom of Information Act">FOIA</abbr> request of this type</p>
        <p><a target="_blank" href="variable-foia-sample-url">variable-foia-sample-title</a></p>
      
      
        <p class="title">Submitted by</p>
        <p>variable-contributor-name</p>
      
    </details>
    
  </section>

  <section class="call-to-action">
    <div class="share">
<p>
    <span class="title">Save this link:</span>
    <a href="/web/20201024091058/https://www.muck.rocks/request/1">
        
        https://www.muck.rocks/request/1</a>
    
</p>

</div>
    <div class="proceed">
      <a class="button primary" href="/web/20201024091058/https://www.muck.rocks/">Show me another type of request</a>
      
      <a class="button" href="https://www.muckrock.com/foi/united-states-of-america-10/tinder-complaints-44508/" title="Click Clone on the request page to file the request yourself.">See a request like this on MuckRock</a>
      
    </div>
  </section>



</main>

<footer class="footer">
<div class="container">
</div>
<p class="title">About Muck.Rocks</p>
<p>
    Muck.Rocks is a project from <a href="https://www.muckrock.com/">MuckRock</a>, a non-profit dedicated to helping the public better understand how government works through the power of Freedom of Information laws. It was originally developed by <a href="https://www.codeforboston.org/">Code for Boston</a>, a volunteer civic hacker meetup made up of developers, designers, data geeks and citizen activists. Have a request idea? <b><a href="https://www.muckrock.com/assignment/submit-your-foia-suggestion-122/embed/" target="_blank">Submit it for review!</a></b>
</p>

</footer>

<script>
document.addEventListener('DOMContentLoaded', function() {
    console.log('Document loaded. Starting to fetch the CSV...');
    fetch('requests.csv')
        .then(response => {
            console.log('CSV fetched successfully. Converting to text...');
            return response.text();
        })
        .then(data => {
            console.log('CSV text conversion done. Parsing data...');
            const rows = data.split(/\r\n|\n/);
            console.log(`Total rows in CSV (including header): ${rows.length}`);
            const headers = rows[0].split(',');
            const titleIndex = headers.indexOf('variable-title');
            const tipsIndex = headers.indexOf('variable-foia-tips');

            // Ensuring there are rows other than the header to choose from
            if (rows.length > 1) {
                const randomRowIndex = Math.floor(Math.random() * (rows.length - 1)) + 1;
                const selectedRow = rows[randomRowIndex].split(',');

                // Extracting both the title and the tip from the same row
                const selectedTitle = selectedRow[titleIndex];
                const selectedTip = selectedRow[tipsIndex];

                console.log(`Selected title: ${selectedTitle}`);
                console.log(`Selected FOIA tip: ${selectedTip}`);

                // Updating the <h1> tag for title
                const titleElement = document.querySelector('h1');
                if (titleElement) {
                    console.log(`Updating H1 element with selected title.`);
                    titleElement.textContent = selectedTitle;
                } else {
                    console.error('H1 element not found.');
                }

                // Finding and updating the place for FOIA tips
                const tipsElements = document.querySelectorAll('p');
                tipsElements.forEach(element => {
                    if (element.textContent.includes('variable-foia-tips')) {
                        console.log(`Updating element with FOIA tip.`);
                        element.textContent = selectedTip;
                    }
                });
            } else {
                console.error('Not enough data in CSV to select a row.');
            }
        })
        .catch(error => console.error('Error loading the CSV file:', error));
});

</script>
</body>
</html>
